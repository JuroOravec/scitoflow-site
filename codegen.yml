overwrite: true
schema:
  # First run `npm run explore` to start the gridsome server
  - http://localhost:8080/___graphql
documents:
  - src/**/*.vue:
      loader: graphql-codegen-gridsome-loader
generates:
  # Types and functions used in code
  src/__generated__/graphql.ts:
    plugins:
      - typescript
      - typescript-operations
      - time
      # Turn off ESLint
      - add:
          content: |
            /* eslint-disable */
            /* This file is autogenerated, see codegen.yml */
      # Import mapped types
      - add:
          content: "import { GridsomeImage } from '@/typings/gridsome'"
    config:
      # vueCompositionApiImportFrom: vue
      namingConvention: keep
      scalars:
        Image: GridsomeImage

  # Used for Apollo memory fragment matcher (use interfaces and unions defined on server)
  src/__generated__/graphqlPossibleTypes.ts:
    plugins:
      - fragment-matcher
      - time
      - add:
          content: |
            /* eslint-disable */
            /* This file is autogenerated, see codegen.yml */

  # Used for the apollo graphql VSCode extension
  src/__generated__/graphql.schema.json:
    plugins:
      - introspection

config:
  typesPrefix: Gql
